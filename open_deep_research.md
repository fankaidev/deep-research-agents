# Open Deep Research 项目分析

## 项目结构和框架

* **编程语言和框架**：使用Python作为主要编程语言，基于LangGraph和LangChain构建的工作流系统
* **代码目录结构**：
  * `src/open_deep_research/`: 核心代码目录
    * `graph.py`: 实现基于LangGraph的工作流架构
    * `multi_agent.py`: 实现多代理协作系统
    * `prompts.py`: 定义系统使用的提示模板
    * `utils.py`: 工具函数和辅助类
    * `configuration.py`: 配置管理
    * `state.py`: 状态管理类
  * `examples/`: 示例代码和使用案例
  * `tests/`: 测试代码

## 交互方式

* **Python库**：可作为Python库导入使用，提供灵活的API
* **Jupyter Notebook**：提供交互式笔记本示例，方便探索和定制
* **LangGraph Studio UI**：通过LangGraph Studio提供图形化界面
* **命令行工具**：支持命令行操作

## 基本流程

1. **话题输入**：用户提供研究主题
2. **规划阶段**：
   * 生成研究计划和报告结构
   * 用户可以提供反馈调整计划
3. **研究阶段**：
   * 为每个报告部分生成搜索查询
   * 执行搜索并收集信息
   * 反思已获得的信息并生成后续查询
4. **撰写阶段**：
   * 根据收集的信息撰写各个报告部分
   * 整合成完整的研究报告

## 上下文管理

* **状态管理**：使用LangGraph的状态管理系统跟踪研究进度
* **工作流控制**：通过图结构定义工作流程，明确各节点之间的转换条件
* **用户反馈整合**：在规划阶段接收并整合用户反馈
* **分段处理**：将大型研究任务分解为小块，分段处理和管理

## 工具使用

* **多搜索引擎集成**：支持多种搜索API，包括Tavily、Perplexity、Exa、ArXiv、PubMed等
* **自定义模型支持**：支持任何兼容LangChain `init_chat_model()` API的模型
* **检查点系统**：使用LangGraph的检查点系统保存进度
* **结构化输出处理**：支持模型生成结构化输出，便于处理和整合

## 执行效果

* **全面的研究报告**：生成结构化、深入的研究报告
* **可追踪的研究过程**：记录搜索查询和信息来源
* **交互式规划**：允许用户参与研究计划的调整
* **学术研究支持**：通过ArXiv和PubMed支持学术研究

## 成本控制

* **搜索深度控制**：通过 `max_search_depth` 参数限制搜索迭代次数
* **查询数量优化**：可配置每个部分的搜索查询数量
* **模型选择灵活性**：支持选择不同性能和成本的模型
* **资源高效使用**：合理分配任务给计划者和撰写者模型

## 其他特性

* **双模式实现**：提供工作流和多代理两种实现方式
* **高度可定制**：支持自定义报告结构、模型参数和搜索工具
* **特定领域支持**：通过专门的搜索API（如ArXiv、PubMed）支持专业研究
* **Markdown格式输出**：生成格式化的Markdown报告，便于阅读和分享
* **开源可扩展**：完全开源实现，便于社区贡献和扩展